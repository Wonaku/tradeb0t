<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="839px" preserveAspectRatio="none" style="width:1256px;height:839px;" version="1.1" viewBox="0 0 1256 839" width="1256px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lfd1na2nnokw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class IExchangeTraderHooks--><rect fill="#FEFECE" filter="url(#f1lfd1na2nnokw)" height="60.8047" id="IExchangeTraderHooks" style="stroke: #A80036; stroke-width: 1.5;" width="651" x="20" y="768"/><ellipse cx="268.75" cy="784" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M264.6719,779.7656 L264.6719,777.6094 L272.0625,777.6094 L272.0625,779.7656 L269.5938,779.7656 L269.5938,787.8438 L272.0625,787.8438 L272.0625,790 L264.6719,790 L264.6719,787.8438 L267.1406,787.8438 L267.1406,779.7656 L264.6719,779.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="289.25" y="788.1543">IExchangeTraderHooks</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="21" x2="670" y1="800" y2="800"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="21" x2="670" y1="808" y2="808"/><ellipse cx="31" cy="819.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="625" x="40" y="822.2104">orderSent: (order: GetOrderType&lt;CommonDomain&gt;, operation_type: OperationType, runId: number) =&gt; void</text><!--class IExchangeTrader--><rect fill="#FEFECE" filter="url(#f1lfd1na2nnokw)" height="99.2188" id="IExchangeTrader" style="stroke: #A80036; stroke-width: 1.5;" width="679" x="6" y="589.5"/><ellipse cx="287.75" cy="605.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M283.6719,601.2656 L283.6719,599.1094 L291.0625,599.1094 L291.0625,601.2656 L288.5938,601.2656 L288.5938,609.3438 L291.0625,609.3438 L291.0625,611.5 L283.6719,611.5 L283.6719,609.3438 L286.1406,609.3438 L286.1406,601.2656 L283.6719,601.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="308.25" y="609.6543">IExchangeTrader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="684" y1="621.5" y2="621.5"/><ellipse cx="17" cy="633.4023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="317" x="26" y="635.7104">hooks: Hookable&lt;IExchangeTraderHooks, "orderSent"&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="684" y1="642.3047" y2="642.3047"/><ellipse cx="17" cy="654.207" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="291" x="26" y="656.5151">scheduleAction(action: JobCallback, date: Date): Job</text><ellipse cx="17" cy="667.0117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="586" x="26" y="669.3198">scheduleOrder(date: Date, order: CreateOrderOptions, algorithm_name?: string, run_id?: number): Job</text><ellipse cx="17" cy="679.8164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="653" x="26" y="682.1245">sendOrder(orderDetails: CreateOrderOptions, algorithm_name?: string, run_id?: number): Promise&lt;OrderStatus&gt;</text><!--class IExchangeWatcher--><rect fill="#FEFECE" filter="url(#f1lfd1na2nnokw)" height="137.6328" id="IExchangeWatcher" style="stroke: #A80036; stroke-width: 1.5;" width="504" x="741.5" y="570"/><ellipse cx="929.75" cy="586" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M925.6719,581.7656 L925.6719,579.6094 L933.0625,579.6094 L933.0625,581.7656 L930.5938,581.7656 L930.5938,589.8438 L933.0625,589.8438 L933.0625,592 L925.6719,592 L925.6719,589.8438 L928.1406,589.8438 L928.1406,581.7656 L925.6719,581.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="119" x="950.25" y="590.1543">IExchangeWatcher</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="742.5" x2="1244.5" y1="602" y2="602"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="742.5" x2="1244.5" y1="610" y2="610"/><ellipse cx="752.5" cy="621.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="404" x="761.5" y="624.2104">getPortfolio(): Promise&lt;GetSecurityBalanceType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="752.5" cy="634.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="469" x="761.5" y="637.0151">getCurrenciesBalance(): Promise&lt;GetCurrencyBalanceType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="752.5" cy="647.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="379" x="761.5" y="649.8198">getCurrencies(): Promise&lt;GetCurrencyType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="752.5" cy="660.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="422" x="761.5" y="662.6245">getSecurity(ticker: string): Promise&lt;GetSecurityType&lt;CommonDomain&gt;&gt;</text><ellipse cx="752.5" cy="673.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="761.5" y="675.4292">getSecurityName(ticker: string): Promise&lt;string&gt;</text><ellipse cx="752.5" cy="685.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="313" x="761.5" y="688.2339">getSecurityLastPrice(ticker: string): Promise&lt;number&gt;</text><ellipse cx="752.5" cy="698.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="478" x="761.5" y="701.0386">getSecurityCurrency(ticker: string): Promise&lt;GetCurrencyType&lt;CommonDomain&gt;&gt;</text><!--class IExchangeAnalyzer--><rect fill="#FEFECE" filter="url(#f1lfd1na2nnokw)" height="188.8516" id="IExchangeAnalyzer" style="stroke: #A80036; stroke-width: 1.5;" width="516" x="401.5" y="8"/><ellipse cx="441.25" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M437.1719,19.7656 L437.1719,17.6094 L444.5625,17.6094 L444.5625,19.7656 L442.0938,19.7656 L442.0938,27.8438 L444.5625,27.8438 L444.5625,30 L437.1719,30 L437.1719,27.8438 L439.6406,27.8438 L439.6406,19.7656 L437.1719,19.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="119" x="460.75" y="28.1543">IExchangeAnalyzer</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="308" x="612.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="306" x="613.5" y="17.1387">Domain extends DomainTemplate, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.5" x2="916.5" y1="40" y2="40"/><ellipse cx="412.5" cy="51.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="421.5" y="54.2104">tradeAlgos: ITradeAlgorithmsEngine</text><ellipse cx="412.5" cy="64.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="421.5" y="67.0151">storage: any</text><ellipse cx="412.5" cy="77.5117" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="421.5" y="79.8198">tradebot: ITradeBot&lt;Domain, TExchangeApi&gt;</text><ellipse cx="412.5" cy="90.3164" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="421.5" y="92.6245">trader: IExchangeTrader</text><ellipse cx="412.5" cy="103.1211" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="421.5" y="105.4292">watcher: IExchangeWatcher</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.5" x2="916.5" y1="112.0234" y2="112.0234"/><ellipse cx="412.5" cy="123.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="421.5" y="126.2339">initialize(): Promise&lt;void&gt;</text><ellipse cx="412.5" cy="136.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="400" x="421.5" y="139.0386">updateCurrencies(): Promise&lt;GetCurrencyType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="412.5" cy="149.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="490" x="421.5" y="151.8433">updateCurrenciesBalance(): Promise&lt;GetCurrencyBalanceType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="412.5" cy="162.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="421.5" y="164.6479">updateSecurities(): Promise&lt;GetSecurityType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="412.5" cy="175.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="439" x="421.5" y="177.4526">updateFollowedSecurities(): Promise&lt;GetSecurityType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="412.5" cy="187.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="426" x="421.5" y="190.2573">updatePortfolio(): Promise&lt;GetPortfolioPositionType&lt;CommonDomain&gt;[]&gt;</text><!--class ExchangeAnalyzer--><rect fill="#FEFECE" filter="url(#f1lfd1na2nnokw)" height="252.875" id="ExchangeAnalyzer" style="stroke: #A80036; stroke-width: 1.5;" width="603" x="358" y="257"/><ellipse cx="444.25" cy="273" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M447.2188,278.6406 Q446.6406,278.9375 446,279.0781 Q445.3594,279.2344 444.6563,279.2344 Q442.1563,279.2344 440.8281,277.5938 Q439.5156,275.9375 439.5156,272.8125 Q439.5156,269.6875 440.8281,268.0313 Q442.1563,266.375 444.6563,266.375 Q445.3594,266.375 446,266.5313 Q446.6563,266.6875 447.2188,266.9844 L447.2188,269.7031 Q446.5938,269.125 446,268.8594 Q445.4063,268.5781 444.7813,268.5781 Q443.4375,268.5781 442.75,269.6563 Q442.0625,270.7188 442.0625,272.8125 Q442.0625,274.9063 442.75,275.9844 Q443.4375,277.0469 444.7813,277.0469 Q445.4063,277.0469 446,276.7813 Q446.5938,276.5 447.2188,275.9219 L447.2188,278.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="464.75" y="277.1543">ExchangeAnalyzer</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="308" x="656" y="254"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="306" x="657" y="266.1387">Domain extends DomainTemplate, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="359" x2="960" y1="289" y2="289"/><ellipse cx="369" cy="300.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="378" y="303.2104">storage: UnitedStorage</text><ellipse cx="369" cy="313.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="378" y="316.0151">tradebot: ITradeBot&lt;Domain, TExchangeApi&gt;</text><ellipse cx="369" cy="326.5117" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="378" y="328.8198">tradeAlgos: ITradeAlgorithmsEngine</text><ellipse cx="369" cy="339.3164" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="378" y="341.6245">trader: IExchangeTrader</text><ellipse cx="369" cy="352.1211" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="378" y="354.4292">watcher: IExchangeWatcher</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="366" y="361.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="378" y="367.2339">_tradeAlgos: ITradeAlgorithmsEngine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="359" x2="960" y1="373.8281" y2="373.8281"/><ellipse cx="369" cy="385.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="378" y="388.0386">initialize(): Promise&lt;void&gt;</text><ellipse cx="369" cy="398.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="400" x="378" y="400.8433">updateCurrencies(): Promise&lt;GetCurrencyType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="369" cy="411.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="490" x="378" y="413.6479">updateCurrenciesBalance(): Promise&lt;GetCurrencyBalanceType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="369" cy="424.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="378" y="426.4526">updateSecurities(): Promise&lt;GetSecurityType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="369" cy="436.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="439" x="378" y="439.2573">updateFollowedSecurities(): Promise&lt;GetSecurityType&lt;CommonDomain&gt;[]&gt;</text><ellipse cx="369" cy="449.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="426" x="378" y="452.062">updatePortfolio(): Promise&lt;GetPortfolioPositionType&lt;CommonDomain&gt;[]&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="366" y="459.5586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="577" x="378" y="464.8667">_initAlgorithmsCallback: (analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;) =&gt; ITradeAlgorithm[]</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="366" y="472.3633"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="296" x="378" y="477.6714">loadSecurityIfNotExist(ticker: string): Promise&lt;any&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="366" y="485.168"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="515" x="378" y="490.4761">loadSecuritiesIfNotExist(tickers: string[]): Promise&lt;GetSecurityType&lt;CommonDomain&gt;[]&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="366" y="497.9727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="548" x="378" y="503.2808">updateSecuritiesList(securitiesToUpdate: GetSecurityType&lt;CommonDomain&gt;[]): Promise&lt;any&gt;</text><!--link IExchangeAnalyzer to ExchangeAnalyzer--><path d="M646.94,217.32 C646.75,230.35 646.7,243.68 646.81,256.85 " fill="none" id="IExchangeAnalyzer-ExchangeAnalyzer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="639.95,217.02,647.38,197.18,653.95,217.33,639.95,217.02" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ExchangeAnalyzer to IExchangeAnalyzer--><path d="M672.94,256.85 C673.1,238.67 672.94,220.17 672.48,202.6 " fill="none" id="ExchangeAnalyzer-IExchangeAnalyzer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="672.33,197.18,668.5887,206.2906,672.4728,202.178,676.5854,206.0621,672.33,197.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="664.9785" y="216.7611">1</text><!--link IExchangeTrader to IExchangeTraderHooks--><path d="M345.5,688.54 C345.5,712.47 345.5,740.79 345.5,762.56 " fill="none" id="IExchangeTrader-IExchangeTraderHooks" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="345.5,767.66,349.5,758.66,345.5,762.66,341.5,758.66,345.5,767.66" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="336.675" y="756.8531">1</text><!--link IExchangeAnalyzer to IExchangeTrader--><path d="M401.4,193.09 C377.45,210.8 356.28,231.89 340.5,257 C277.03,357.98 305.44,505.7 327.79,584.24 " fill="none" id="IExchangeAnalyzer-IExchangeTrader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="329.26,589.31,330.6068,579.5537,327.8732,584.5062,322.9207,581.7726,329.26,589.31" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="318.4138" y="578.3285">1</text><!--link IExchangeAnalyzer to IExchangeWatcher--><path d="M917.75,194.54 C941.42,211.96 962.48,232.59 978.5,257 C1038.92,349.06 1027.15,482.35 1011.5,564.42 " fill="none" id="IExchangeAnalyzer-IExchangeWatcher" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1010.47,569.75,1016.0942,561.6649,1011.4121,564.8396,1008.2375,560.1575,1010.47,569.75" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1003.8075" y="558.9278">1</text><!--link ExchangeAnalyzer to IExchangeTrader--><path d="M503.88,510.14 C470.66,536.95 437.36,563.84 409.93,585.99 " fill="none" id="ExchangeAnalyzer-IExchangeTrader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="405.92,589.22,415.4331,586.6702,409.8076,586.0757,410.4021,580.4501,405.92,589.22" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="405.5014" y="578.5841">1</text><!--link ExchangeAnalyzer to IExchangeWatcher--><path d="M825.03,510.14 C850.62,529.56 876.25,549.01 899.52,566.67 " fill="none" id="ExchangeAnalyzer-IExchangeWatcher" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="903.54,569.72,898.809,561.0818,899.5642,566.6881,893.9579,567.4432,903.54,569.72" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="885.8504" y="558.8947">1</text><!--
@startuml
interface IExchangeTraderHooks {
    +orderSent: (order: GetOrderType<CommonDomain>, operation_type: OperationType, runId: number) => void
}
interface IExchangeTrader {
    +hooks: Hookable<IExchangeTraderHooks, "orderSent">
    +scheduleAction(action: JobCallback, date: Date): Job
    +scheduleOrder(date: Date, order: CreateOrderOptions, algorithm_name?: string, run_id?: number): Job
    +sendOrder(orderDetails: CreateOrderOptions, algorithm_name?: string, run_id?: number): Promise<OrderStatus>
}
interface IExchangeWatcher {
    +getPortfolio(): Promise<GetSecurityBalanceType<CommonDomain>[]>
    +getCurrenciesBalance(): Promise<GetCurrencyBalanceType<CommonDomain>[]>
    +getCurrencies(): Promise<GetCurrencyType<CommonDomain>[]>
    +getSecurity(ticker: string): Promise<GetSecurityType<CommonDomain>>
    +getSecurityName(ticker: string): Promise<string>
    +getSecurityLastPrice(ticker: string): Promise<number>
    +getSecurityCurrency(ticker: string): Promise<GetCurrencyType<CommonDomain>>
}
interface IExchangeAnalyzer<Domain extends DomainTemplate, TExchangeApi> {
    +tradeAlgos: ITradeAlgorithmsEngine
    +storage: any
    +tradebot: ITradeBot<Domain, TExchangeApi>
    +trader: IExchangeTrader
    +watcher: IExchangeWatcher
    +initialize(): Promise<void>
    +updateCurrencies(): Promise<GetCurrencyType<CommonDomain>[]>
    +updateCurrenciesBalance(): Promise<GetCurrencyBalanceType<CommonDomain>[]>
    +updateSecurities(): Promise<GetSecurityType<CommonDomain>[]>
    +updateFollowedSecurities(): Promise<GetSecurityType<CommonDomain>[]>
    +updatePortfolio(): Promise<GetPortfolioPositionType<CommonDomain>[]>
}
class ExchangeAnalyzer<Domain extends DomainTemplate, TExchangeApi> implements IExchangeAnalyzer {
    +storage: UnitedStorage
    +tradebot: ITradeBot<Domain, TExchangeApi>
    +tradeAlgos: ITradeAlgorithmsEngine
    +trader: IExchangeTrader
    +watcher: IExchangeWatcher
    -_tradeAlgos: ITradeAlgorithmsEngine
    +initialize(): Promise<void>
    +updateCurrencies(): Promise<GetCurrencyType<CommonDomain>[]>
    +updateCurrenciesBalance(): Promise<GetCurrencyBalanceType<CommonDomain>[]>
    +updateSecurities(): Promise<GetSecurityType<CommonDomain>[]>
    +updateFollowedSecurities(): Promise<GetSecurityType<CommonDomain>[]>
    +updatePortfolio(): Promise<GetPortfolioPositionType<CommonDomain>[]>
    -_initAlgorithmsCallback: (analyzer: IExchangeAnalyzer<Domain, TExchangeApi>) => ITradeAlgorithm[]
    -loadSecurityIfNotExist(ticker: string): Promise<any>
    -loadSecuritiesIfNotExist(tickers: string[]): Promise<GetSecurityType<CommonDomain>[]>
    -updateSecuritiesList(securitiesToUpdate: GetSecurityType<CommonDomain>[]): Promise<any>
}
IExchangeTrader - -> "1" IExchangeTraderHooks
IExchangeAnalyzer - -> "1" IExchangeTrader
IExchangeAnalyzer - -> "1" IExchangeWatcher
ExchangeAnalyzer - -> "1" IExchangeTrader
ExchangeAnalyzer - -> "1" IExchangeWatcher
ExchangeAnalyzer - -> "1" IExchangeAnalyzer
@enduml

PlantUML version 1.2019.06(Fri May 24 17:10:25 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7
Operating System: Linux
OS Version: 5.15.0-1038-azure
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>